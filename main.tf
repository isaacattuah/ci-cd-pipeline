# ----------------------------------------------------------------------------------------------------------------------
# Provisioning Main Services
# ----------------------------------------------------------------------------------------------------------------------

# ----------------------------------------------------------------------------------------------------------------------
# Configure VPC
# ----------------------------------------------------------------------------------------------------------------------

# ----------------------------------------------------------------------------------------------------------------------
# Configure GKE
# ----------------------------------------------------------------------------------------------------------------------

# ----------------------------------------------------------------------------------------------------------------------
# Configure Run
# ----------------------------------------------------------------------------------------------------------------------

# ----------------------------------------------------------------------------------------------------------------------
# Configure GCE - Stretch Goal
# ----------------------------------------------------------------------------------------------------------------------

# ----------------------------------------------------------------------------------------------------------------------
# Create Cloud Repo
# ----------------------------------------------------------------------------------------------------------------------

# Create Cloud Repo
module "cloud_source_repo" {
  source  = "./modules/cloud_source_repo"
  project_id = var.project_id
}



# ----------------------------------------------------------------------------------------------------------------------
# Create Cloud Build Trigger
# ----------------------------------------------------------------------------------------------------------------------
module "cloud_build_trigger" {
  source  = "./modules/build_trigger"
  project_id = var.project_id
  repo_name =  module.cloud_source_repo.repo_name
depends_on = [
    module.cloud_source_repo
  ]  
}


# ----------------------------------------------------------------------------------------------------------------------
# Deploy Docker Image to Cloud Run
# ----------------------------------------------------------------------------------------------------------------------
    # Run conainers in Cloud Run



# ----------------------------------------------------------------------------------------------------------------------
# Deploy Docker Image to GKE
# ----------------------------------------------------------------------------------------------------------------------
    # Expose services with yaml files
    

# ----------------------------------------------------------------------------------------------------------------------
# Deploy to GCE -- Stretch Goal
# ----------------------------------------------------------------------------------------------------------------------

 
    # Run a startup to install NGINX on GCE
    # Deploy files without need for entire pipeline

# Build GKE cluster and Cloud Build File Yaml